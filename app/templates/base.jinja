<!DOCTYPE html>
{% if session.get('theme') == 'dark' %}
<html lang='lv' data-theme='dark'>
{% else %}
<html lang='lv' data-theme='light'>
{% endif %}


<head>
  {% block head %}

  <meta charset='utf-8' />
  <meta name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no' />

  <link rel='icon' href='{{ url_for("static", filename="favicon.ico") }}' type='image/x-icon' />

  <style>
    [x-cloak] {
      display: none !important;
    }
  </style>

  <link rel='stylesheet' href='{{ url_for("static", filename="css/main.css") }}'>

  {% block title %}
  {% endblock title %}

  {% endblock head %}
</head>

<body class='no-animation'>
  <header>
    <div class='navbar bg-base-300 shadow-md rounded-2xl container mx-auto'>
      <div class='navbar-start flex grow'>
        <a class='btn btn-ghost text-xl' href='{{ url_for("main.index") }}'>eTalonu validācijas</a>
      </div>
      <div class='navbar-end hidden md:flex grow-0'>
        <ul class='menu menu-horizontal px-1'>
          <li><a class='{{ "active" if request.path == url_for("main.routes") }}'
              href='{{ url_for("main.routes") }}'>Populārākie maršruti</a></li>
          <li><a class='{{ "active" if request.path == url_for("main.times") }}'
              href='{{ url_for("main.times") }}'>Braucieni stundā</a></li>
          <li><a href='{{ url_for("main.toggle_theme", current_page=request.path) }}'>
              {% if session.get('theme') == 'dark' %}
              ☀️
              {% else %}
              🌑
              {% endif %}
            </a></li>
        </ul>
      </div>
      <div class='navbar-end hidden max-md:flex grow-0'>
        <div class='dropdown dropdown-end'>
          <div tabindex='0' role='button' class='btn btn-ghost md:hidden'>
            <svg xmlns='http://www.w3.org/2000/svg' class='size-5' fill='none' viewBox='0 0 24 24'
              stroke='currentColor'>
              <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 6h16M4 12h8m-8 6h16' />
            </svg>
          </div>
          <ul tabindex='0' class='menu menu-sm dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-52 p-2 shadow'>
            <li><a class='{{ "active" if request.path == url_for("main.routes") }}'
                href='{{ url_for("main.routes") }}'>Populārākie maršruti</a></li>
            <li><a class='{{ "active" if request.path == url_for("main.times") }}'
                href='{{ url_for("main.times") }}'>Braucieni stundā</a></li>
            <li><a href='{{ url_for("main.toggle_theme", current_page=request.path) }}'>
                {% if session.get('theme') == 'dark' %}
                ☀️<span>Gaišais motīvs</span>
                {% else %}
                🌑<span>Tumšais motīvs</span>
                {% endif %}
              </a></li>

          </ul>
        </div>
      </div>
    </div>
  </header>
  <main>
    <div class='container mx-auto p-4'>
      {% block page_content %}
      {% endblock page_content %}
    </div>
  </main>
  <script src='{{ url_for("static", filename="js/bundle.js") }}' defer></script>
  {% block scripts %}
  {% endblock scripts %}
</body>

</html>